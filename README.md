# S&P 500 Stock Regression Project

This repository implements a regression analysis of S&P 500 stocks to explain 1-year log returns using price-based technical indicators. The project is written entirely in R to align with the Regression Methods course requirements.

## Repository Layout
```
RegressionCourseProject/
├── data/
│   ├── raw/                # Kaggle CSV placed here (all_stocks_5yr.csv)
│   └── processed/          # Feature-engineered ticker-level data
├── figures/                # Diagnostic plots generated by the R script
├── outputs/                # Model coefficients, fit metrics, residuals
├── reports/                # Project summary written per course template
├── scripts/                # R analysis pipeline
└── S&P500Data/             # Original download bundle (kept for reference)
```

## How to Reproduce the Analysis
1. **Install R packages (once):**
   ```r
   install.packages(c('tidyverse', 'lubridate', 'broom', 'scales'))
   ```
2. **Download the dataset:** Grab `all_stocks_5yr.csv` from [Cam Nugent's Kaggle dataset](https://www.kaggle.com/datasets/camnugent/sandp500) and place it in `data/raw/`.
3. **Run the pipeline:**
   ```bash
   Rscript scripts/sp500_regression.R
   ```
   The script cleans daily prices, engineers predictor variables (volatility, average volume, 90-day momentum, and 30-day moving-average trend), fits a multiple linear regression, and exports:
   - `data/processed/sp500_features.csv`
   - `outputs/model_coefficients.csv`
   - `outputs/model_glance.csv`
   - `outputs/model_augmented_residuals.csv`
   - Diagnostic plots in `figures/`

## Deliverables
- `reports/Project_Summary.md`: Follows the course's Abstract → Introduction → Materials & Methods → Results → Discussion → Acknowledgments → Literature Cited → Appendices structure.
- Generated figures can be dropped into PowerPoint/Word slides as needed.

## Notes
- The response variable is the log return between the first trading day of 2017 and the first trading day of 2018 for each ticker with complete data (503 firms).
- Predictor variables summarize 2017 trading behavior only, ensuring a realistic, forward-looking setup.
- All random warnings during feature engineering come from tickers with insufficient daily observations; those tickers are excluded automatically.
